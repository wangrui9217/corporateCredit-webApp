webpackJsonp([22],{275:function(e,a,o){o(450),o(451);var t=o(2)(o(340),o(525),"data-v-1750c8ca",null);e.exports=t.exports},340:function(e,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=o(91),i=o.n(t),l=o(34),n=o.n(l),s=o(48),c=o(93),d=o(94);a.default={data:function(){return{options:[{key:"男性",value:111},{key:"女性",value:222}],companyTypeOption:[{name:"有限责任公司",value:"有限责任公司"},{name:"股份有限公司",value:"股份有限公司"}],imgModal:{},companyModel:{companyName:"",companyCredit:"",companyAddress:"",companyTelephone:"",companyEmail:"",businessScope:"",companyType:"",registeredAddress:"",legalReplaceName:"",registeredCapital:"",establishmentTime:"",businessPeriod:""},test:{}}},components:{},watch:{imgModal:function(e,a){var t=this;if(0!==n()(this.imgModal).length&&this.imgModal.fileStr){var i=this.imgModal.fileStr,l={fileStr:i};this.$indicator.open(),o.i(d.g)(l).then(function(e){if(t.$indicator.close(),200===e.code){var a=e.result;t.companyModel.companyName=a.companyName,t.companyModel.companyCredit=a.identityNum,t.companyModel.companyAddress=a.address,t.companyModel.companyType=a.type,t.companyModel.establishmentTime=a.establishDate,t.companyModel.legalReplaceName=a.legalName,t.companyModel.registeredCapital=a.registeredMoney,t.companyModel.businessPeriod=a.expiryDate,t.companyModel.businessScope=a.businessScope,t.registeredAddress=a.address}}).catch(function(){t.$indicator.close()})}}},methods:i()({initData:function(){var e=this;n()(this.companyModel).forEach(function(a){e.companyModel[a]=e.creditInfo[a]||e.companyModel[a]});var a=this.creditInfo.baseResourceModel||[];this.imgModal=a.find(function(e){return"businessLicense"===e.category})||{},0!==n()(this.imgModal).length&&(this.imgModal={category:"businessLicense",fileType:this.imgModal.resourceType,attachmentPath:this.imgModal.resourceUrl,attachmentName:this.imgModal.resourceName})},goNext:function(){if(0===n()(this.imgModal).length)return void this.$toast("请上传营业执照");this.imgModal={category:"businessLicense",resourceType:this.imgModal.fileType,resourceUrl:this.imgModal.attachmentPath,resourceName:this.imgModal.attachmentName};var e=this.creditInfo.baseResourceModel||[];this.addItem(e,this.imgModal),this.companyModel=i()({},this.companyModel,{baseResourceModel:e}),this.setCreditInfo(this.companyModel),this.$router.push("/credit-legalperson")},addItem:function(e,a){e.some(function(e){return e.category===a.category})?e.map(function(o){o.category===a.category&&e.splice(e.indexOf(o),1,a)}):e.push(a)}},o.i(s.c)({setCreditInfo:"SET_CREDIT_INFO"}),{getCustomer:function(){var e=this;this.$indicator.open("加载中..."),o.i(c.e)().then(function(a){e.$indicator.close(),200===a.code&&(e.companyModel=a.result.companyModel)}).catch(function(){e.$indicator.close()}),o.i(c.d)({category:"",ownerId:this.$route.query.companyId}).then(function(a){200===a.code&&a.result instanceof Array&&(e.imgModal=a.result.find(function(e){return"businessLicense"===e.category})||{},0!==n()(e.imgModal).length&&(e.imgModal={category:"businessLicense",fileType:e.imgModal.resourceType,attachmentPath:e.imgModal.resourceUrl,attachmentName:e.imgModal.resourceName}),console.log(e.imgModal,8888))}).catch(function(){})}}),mounted:function(){this.hideSubmit?this.initData():this.getCustomer()},computed:i()({hideSubmit:function(){return!this.$route.query.state}},o.i(s.b)({creditInfo:function(e){return e.app.creditInfo}}),{publicHost:function(){return this.$store.state.dictionary.publicHost+"/"}})}},395:function(e,a,o){a=e.exports=o(267)(),a.push([e.i,".upload-business .receive-img{width:4.36rem;height:2.13333333rem;position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.upload-business .receive-img .result-img{max-width:100%;max-height:100%}",""])},396:function(e,a,o){a=e.exports=o(267)(),a.push([e.i,".list[data-v-1750c8ca]{width:100%;height:1.38666667rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;font-size:.42666667rem;color:#333;background-color:#fff;margin-bottom:.06666667rem}.list label[data-v-1750c8ca]{width:3.46666667rem}.list .text-1[data-v-1750c8ca]{font-size:.37333333rem;color:#999}.list .text-2[data-v-1750c8ca]{color:#2b64ff}.business-type[data-v-1750c8ca]{margin:.53333333rem auto}.upload-img[data-v-1750c8ca]{height:3.94666667rem;margin:.53333333rem 0;background-color:#fff}.upload-img .no-margin[data-v-1750c8ca]{margin:0}.upload-img .upload-business[data-v-1750c8ca]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.upload-img .upload-business .upload-img-1[data-v-1750c8ca]{width:4.36rem;height:2.13333333rem;background-color:#f2f2f2;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.upload-img .upload-business .upload-img-1 .add-plus[data-v-1750c8ca]{height:70%}.upload-img .upload-text[data-v-1750c8ca]{background:#f2f2f2;width:2.13333333rem;height:2.13333333rem;border-radius:.05333333rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.upload-img .upload-plus[data-v-1750c8ca]{color:#a7a7a7}",""])},450:function(e,a,o){var t=o(395);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o(268)("5e9ab4d2",t,!0)},451:function(e,a,o){var t=o(396);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o(268)("e615ee9a",t,!0)},525:function(e,a,o){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"main-with-header common-bg main-with-bottom"},[t("common-header"),e._v(" "),e.hideSubmit?t("common-step",{attrs:{activeStep:0,option:["企业信息","法人信息","人脸识别","股东授权","征信授权","授信成功"]}}):e._e(),e._v(" "),t("div",{staticClass:"upload-img common-padding"},[e._m(0),e._v(" "),t("div",{staticClass:"upload-business"},[t("idcard-upload",{attrs:{imageList:e.imgModal,showAdd:!1,readonly:!e.hideSubmit},on:{"update:imageList":function(a){e.imgModal=a},"update:image-list":function(a){e.imgModal=a}}},[t("div",{staticClass:"upload-img-1",attrs:{slot:"upload-img"},slot:"upload-img"},[t("img",{staticClass:"add-plus",attrs:{src:o(51)}})])])],1)]),e._v(" "),t("div",{staticClass:"mint-cell-box"},[t("mt-field",{attrs:{label:"企业名称",placeholder:"请输入企业名称",readonly:""},model:{value:e.companyModel.companyName,callback:function(a){e.$set(e.companyModel,"companyName",a)},expression:"companyModel.companyName"}}),e._v(" "),t("mt-field",{attrs:{label:"统一社会信用代码",placeholder:"请输入统一社会信用代码",readonly:""},model:{value:e.companyModel.companyCredit,callback:function(a){e.$set(e.companyModel,"companyCredit",a)},expression:"companyModel.companyCredit"}}),e._v(" "),t("mt-field",{attrs:{label:"企业地址",placeholder:"请输入企业现经营地址",readonly:!e.hideSubmit},model:{value:e.companyModel.companyAddress,callback:function(a){e.$set(e.companyModel,"companyAddress",a)},expression:"companyModel.companyAddress"}}),e._v(" "),t("mt-field",{attrs:{label:"电话(选填)",placeholder:"请输入电话",type:"tel",readonly:!e.hideSubmit},model:{value:e.companyModel.companyTelephone,callback:function(a){e.$set(e.companyModel,"companyTelephone",a)},expression:"companyModel.companyTelephone"}}),e._v(" "),t("mt-field",{attrs:{label:"邮箱(选填)",placeholder:"请输入邮箱",type:"email",readonly:!e.hideSubmit},model:{value:e.companyModel.companyEmail,callback:function(a){e.$set(e.companyModel,"companyEmail",a)},expression:"companyModel.companyEmail"}}),e._v(" "),t("mt-field",{attrs:{label:"经营范围",placeholder:"请输入公司经营范围",readonly:!e.hideSubmit,type:"textarea",rows:"3"},model:{value:e.companyModel.businessScope,callback:function(a){e.$set(e.companyModel,"businessScope",a)},expression:"companyModel.businessScope"}}),e._v(" "),t("mt-field",{attrs:{label:"企业类型",placeholder:"请输入企业类型",readonly:""},model:{value:e.companyModel.companyType,callback:function(a){e.$set(e.companyModel,"companyType",a)},expression:"companyModel.companyType"}}),e._v(" "),t("mt-field",{attrs:{label:"注册地址",placeholder:"请输入注册地址",readonly:""},model:{value:e.companyModel.registeredAddress,callback:function(a){e.$set(e.companyModel,"registeredAddress",a)},expression:"companyModel.registeredAddress"}}),e._v(" "),t("mt-field",{attrs:{label:"法定代表人",placeholder:"请输入法定代表人",readonly:""},model:{value:e.companyModel.legalReplaceName,callback:function(a){e.$set(e.companyModel,"legalReplaceName",a)},expression:"companyModel.legalReplaceName"}}),e._v(" "),t("mt-field",{attrs:{label:"注册资本",placeholder:"请输入注册资本",readonly:""},model:{value:e.companyModel.registeredCapital,callback:function(a){e.$set(e.companyModel,"registeredCapital",a)},expression:"companyModel.registeredCapital"}}),e._v(" "),t("mt-field",{attrs:{label:"成立日期",placeholder:"请输入成立日期",readonly:""},model:{value:e.companyModel.establishmentTime,callback:function(a){e.$set(e.companyModel,"establishmentTime",a)},expression:"companyModel.establishmentTime"}}),e._v(" "),t("mt-field",{attrs:{label:"营业期限",placeholder:"请输入营业期限",readonly:""},model:{value:e.companyModel.businessPeriod,callback:function(a){e.$set(e.companyModel,"businessPeriod",a)},expression:"companyModel.businessPeriod"}})],1),e._v(" "),e.hideSubmit?t("mt-button",{staticClass:"common-parimary-btn common-btn-margin",on:{click:e.goNext}},[e._v("下一步")]):e._e()],1)},staticRenderFns:[function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("ul",{staticClass:"business-type no-margin"},[o("li",{staticClass:"list "},[o("label",[e._v("上传营业执照")])])])}]}}});