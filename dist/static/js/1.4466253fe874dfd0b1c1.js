webpackJsonp([1],{314:function(t,e,n){n(452);var a=n(2)(n(379),n(526),"data-v-1eca25e5",null);t.exports=a.exports},321:function(t,e,n){t.exports={default:n(323),__esModule:!0}},322:function(t,e,n){"use strict";e.__esModule=!0;var a=n(321),s=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,s.default)(t)}},323:function(t,e,n){n(100),n(325),t.exports=n(6).Array.from},324:function(t,e,n){"use strict";var a=n(20),s=n(49);t.exports=function(t,e,n){e in t?a.f(t,e,s(0,n)):t[e]=n}},325:function(t,e,n){"use strict";var a=n(19),s=n(12),i=n(31),o=n(97),r=n(96),c=n(50),d=n(324),u=n(99);s(s.S+s.F*!n(98)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,s,h,f=i(t),l="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,I=void 0!==p,g=0,v=u(f);if(I&&(p=a(p,m>2?arguments[2]:void 0,2)),void 0==v||l==Array&&r(v))for(e=c(f.length),n=new l(e);e>g;g++)d(n,g,I?p(f[g],g):f[g]);else for(h=v.call(f),n=new l;!(s=h.next()).done;g++)d(n,g,I?o(h,p,[s.value,g],!0):s.value);return n.length=g,n}})},379:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(322),s=n.n(a),i=n(93);e.default={data:function(){return{companyId:this.$route.query.companyId,customerId:this.$route.query.customerId,financeForm:{financeEntryStatus:1,resourceList:[],deleteIds:[],customerId:this.$route.query.customerId},profitStatements:[],balanceSheets:[],cashFlowSheets:[],financialInfoOthers:[],paramster:{ownerId:this.$route.query.companyId,ownerType:"COMPANY"},hasEdit:!1,originIds:[]}},components:{},methods:{submit:function(){var t=this;return this.profitStatements.filter(function(t){t.category="profitStatements"}),this.balanceSheets.map(function(t){t.category="balanceSheets"}),this.cashFlowSheets.map(function(t){t.category="cashFlowSheets"}),this.financialInfoOthers.map(function(t){t.category="financialInfoOthers"}),0===this.profitStatements.length?void this.$toast("请上传利润表信息"):0===this.balanceSheets.length?void this.$toast("请上传资产负债表信息"):0===this.cashFlowSheets.length?void this.$toast("请上传现金流量表信息"):(this.financeForm.resourceList=[].concat(s()(this.profitStatements),s()(this.balanceSheets),s()(this.cashFlowSheets),s()(this.financialInfoOthers)),this.financeForm.resourceList.map(function(e){e.ownerId=t.companyId,e.ownerType="COMPANY",e.resourceName=e.attachmentName,e.resourceUrl=e.attachmentPath,e.resourceType=e.fileType,delete e.attachmentName,delete e.attachmentPath,delete e.attachmentUrl,delete e.group,delete e.fileType}),console.log("this.financeForm",this.financeForm),n.i(i.c)(this.financeForm).then(function(e){200===e.code&&(t.$router.go(-1),t.$toast("信息提交成功"))}),void 0)},getResourceList:function(){var t=this;n.i(i.d)(this.paramster).then(function(e){if(200===e.code){console.log("res.result",e.result);var n=e.result;n.map(function(t){t.attachmentName=t.resourceName,t.attachmentPath=t.resourceUrl}),n.forEach(function(e){switch(e.category){case"profitStatements":t.profitStatements.push(e);break;case"balanceSheets":t.balanceSheets.push(e);break;case"cashFlowSheets":t.cashFlowSheets.push(e);break;case"financialInfoOthers":t.financialInfoOthers.push(e)}})}})}},created:function(){this.getResourceList()}}},397:function(t,e,n){e=t.exports=n(267)(),e.push([t.i,"",""])},452:function(t,e,n){var a=n(397);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(268)("3bfc3624",a,!0)},526:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-with-header main-with-bottom common-bg"},[n("common-header",{attrs:{hasEdit:t.hasEdit},on:{"update:hasEdit":function(e){t.hasEdit=e},"update:has-edit":function(e){t.hasEdit=e}}},[n("div",{staticClass:"save",attrs:{slot:"save"},on:{click:t.submit},slot:"save"},[t._v("保存")])]),t._v(" "),n("div"),t._v(" "),n("img-upload",{attrs:{title:"利润表",imageList:t.profitStatements,deleteIds:t.financeForm.deleteIds,hasEdit:t.hasEdit},on:{"update:imageList":function(e){t.profitStatements=e},"update:image-list":function(e){t.profitStatements=e},"update:deleteIds":function(e){return t.$set(t.financeForm,"deleteIds",e)},"update:delete-ids":function(e){return t.$set(t.financeForm,"deleteIds",e)},"update:hasEdit":function(e){t.hasEdit=e},"update:has-edit":function(e){t.hasEdit=e}}}),t._v(" "),n("img-upload",{attrs:{title:"资产负债表",imageList:t.balanceSheets,deleteIds:t.financeForm.deleteIds,hasEdit:t.hasEdit},on:{"update:imageList":function(e){t.balanceSheets=e},"update:image-list":function(e){t.balanceSheets=e},"update:deleteIds":function(e){return t.$set(t.financeForm,"deleteIds",e)},"update:delete-ids":function(e){return t.$set(t.financeForm,"deleteIds",e)},"update:hasEdit":function(e){t.hasEdit=e},"update:has-edit":function(e){t.hasEdit=e}}}),t._v(" "),n("img-upload",{attrs:{title:"现金流量表",imageList:t.cashFlowSheets,deleteIds:t.financeForm.deleteIds,hasEdit:t.hasEdit},on:{"update:imageList":function(e){t.cashFlowSheets=e},"update:image-list":function(e){t.cashFlowSheets=e},"update:deleteIds":function(e){return t.$set(t.financeForm,"deleteIds",e)},"update:delete-ids":function(e){return t.$set(t.financeForm,"deleteIds",e)},"update:hasEdit":function(e){t.hasEdit=e},"update:has-edit":function(e){t.hasEdit=e}}}),t._v(" "),n("img-upload",{attrs:{title:"其他",imageList:t.financialInfoOthers,deleteIds:t.financeForm.deleteIds,hasEdit:t.hasEdit},on:{"update:imageList":function(e){t.financialInfoOthers=e},"update:image-list":function(e){t.financialInfoOthers=e},"update:deleteIds":function(e){return t.$set(t.financeForm,"deleteIds",e)},"update:delete-ids":function(e){return t.$set(t.financeForm,"deleteIds",e)},"update:hasEdit":function(e){t.hasEdit=e},"update:has-edit":function(e){t.hasEdit=e}}})],1)},staticRenderFns:[]}}});