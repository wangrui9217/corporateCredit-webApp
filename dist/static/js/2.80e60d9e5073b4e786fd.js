webpackJsonp([2],{312:function(t,e,s){s(476);var r=s(2)(s(377),s(549),"data-v-5fddb1c8",null);t.exports=r.exports},321:function(t,e,s){t.exports={default:s(323),__esModule:!0}},322:function(t,e,s){"use strict";e.__esModule=!0;var r=s(321),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return(0,n.default)(t)}},323:function(t,e,s){s(100),s(325),t.exports=s(6).Array.from},324:function(t,e,s){"use strict";var r=s(20),n=s(49);t.exports=function(t,e,s){e in t?r.f(t,e,n(0,s)):t[e]=s}},325:function(t,e,s){"use strict";var r=s(19),n=s(12),a=s(31),o=s(97),i=s(96),u=s(50),c=s(324),d=s(99);n(n.S+n.F*!s(98)(function(t){Array.from(t)}),"Array",{from:function(t){var e,s,n,l,m=a(t),f="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,I=void 0!==p,v=0,g=d(m);if(I&&(p=r(p,h>2?arguments[2]:void 0,2)),void 0==g||f==Array&&i(g))for(e=u(m.length),s=new f(e);e>v;v++)c(s,v,I?p(m[v],v):m[v]);else for(l=g.call(m),s=new f;!(n=l.next()).done;v++)c(s,v,I?o(l,p,[n.value,v],!0):n.value);return s.length=v,s}})},377:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(322),n=s.n(r),a=s(93);e.default={data:function(){return{companyId:this.$route.query.companyId,customerId:this.$route.query.customerId,assetForm:{assetsEntryStatus:1,resourceList:[],deleteIds:[],customerId:this.$route.query.customerId},bankStatements:[],creditReports:[],assetInfoOthers:[],paramster:{ownerId:this.$route.query.companyId,ownerType:"COMPANY"}}},components:{},methods:{submit:function(){var t=this;return this.bankStatements.filter(function(t){t.category="bankStatements"}),this.creditReports.map(function(t){t.category="creditReports"}),this.assetInfoOthers.map(function(t){t.category="assetInfoOthers"}),0===this.bankStatements.length?void this.$toast("请上传银行信息"):0===this.creditReports.length?void this.$toast("请上传征信报告"):(this.assetForm.resourceList=[].concat(n()(this.bankStatements),n()(this.creditReports),n()(this.assetInfoOthers)),this.assetForm.resourceList.map(function(e){e.ownerId=t.companyId,e.ownerType="COMPANY",e.resourceName=e.attachmentName,e.resourceUrl=e.attachmentPath,e.resourceType=e.fileType,delete e.attachmentName,delete e.attachmentPath,delete e.attachmentUrl,delete e.group,delete e.fileType}),console.log("this.assetForm",this.assetForm),s.i(a.c)(this.assetForm).then(function(e){200===e.code&&(t.$router.go(-1),t.$toast("信息提交成功"))}),void 0)},getResourceList:function(){var t=this;s.i(a.d)(this.paramster).then(function(e){if(200===e.code){console.log("res.result",e.result);var s=e.result;s.map(function(t){t.attachmentName=t.resourceName,t.attachmentPath=t.resourceUrl}),s.forEach(function(e){switch(e.category){case"bankStatements":t.bankStatements.push(e);break;case"creditReports":t.creditReports.push(e);break;case"assetInfoOthers":t.assetInfoOthers.push(e)}})}})}},created:function(){this.getResourceList()}}},421:function(t,e,s){e=t.exports=s(267)(),e.push([t.i,"",""])},476:function(t,e,s){var r=s(421);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(268)("1def4399",r,!0)},549:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-with-header main-with-bottom common-bg"},[s("common-header",[s("div",{staticClass:"save",attrs:{slot:"save"},on:{click:t.submit},slot:"save"},[t._v("保存")])]),t._v(" "),s("div"),t._v(" "),s("img-upload",{attrs:{title:"银行流水",imageList:t.bankStatements,deleteIds:t.assetForm.deleteIds},on:{"update:imageList":function(e){t.bankStatements=e},"update:image-list":function(e){t.bankStatements=e},"update:deleteIds":function(e){return t.$set(t.assetForm,"deleteIds",e)},"update:delete-ids":function(e){return t.$set(t.assetForm,"deleteIds",e)}}}),t._v(" "),s("img-upload",{attrs:{title:"征信报告",imageList:t.creditReports,deleteIds:t.assetForm.deleteIds},on:{"update:imageList":function(e){t.creditReports=e},"update:image-list":function(e){t.creditReports=e},"update:deleteIds":function(e){return t.$set(t.assetForm,"deleteIds",e)},"update:delete-ids":function(e){return t.$set(t.assetForm,"deleteIds",e)}}}),t._v(" "),s("img-upload",{attrs:{title:"其他",imageList:t.assetInfoOthers,deleteIds:t.assetForm.deleteIds},on:{"update:imageList":function(e){t.assetInfoOthers=e},"update:image-list":function(e){t.assetInfoOthers=e},"update:deleteIds":function(e){return t.$set(t.assetForm,"deleteIds",e)},"update:delete-ids":function(e){return t.$set(t.assetForm,"deleteIds",e)}}})],1)},staticRenderFns:[]}}});