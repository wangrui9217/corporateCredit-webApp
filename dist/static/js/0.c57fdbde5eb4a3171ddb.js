webpackJsonp([0],{315:function(e,t,r){r(455);var n=r(2)(r(380),r(529),"data-v-2323865a",null);e.exports=n.exports},321:function(e,t,r){e.exports={default:r(323),__esModule:!0}},322:function(e,t,r){"use strict";t.__esModule=!0;var n=r(321),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,o.default)(e)}},323:function(e,t,r){r(100),r(325),e.exports=r(6).Array.from},324:function(e,t,r){"use strict";var n=r(20),o=r(49);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},325:function(e,t,r){"use strict";var n=r(19),o=r(12),a=r(31),s=r(97),u=r(96),i=r(50),c=r(324),d=r(99);o(o.S+o.F*!r(98)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,f,l=a(e),h="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,I=void 0!==g,p=0,v=d(l);if(I&&(g=n(g,m>2?arguments[2]:void 0,2)),void 0==v||h==Array&&u(v))for(t=i(l.length),r=new h(t);t>p;p++)c(r,p,I?g(l[p],p):l[p]);else for(f=v.call(l),r=new h;!(o=f.next()).done;p++)c(r,p,I?s(f,g,[o.value,p],!0):o.value);return r.length=p,r}})},380:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(322),o=r.n(n),a=r(93);t.default={data:function(){return{companyId:this.$route.query.companyId,customerId:this.$route.query.customerId,guaranteeForm:{guaranteeEntryStatus:1,resourceList:[],deleteIds:[],customerId:this.$route.query.customerId},carInfos:[],houseInfos:[],guaranteeInfoOthers:[],paramster:{ownerId:this.$route.query.companyId,ownerType:"COMPANY"}}},components:{},methods:{submit:function(){var e=this;return this.carInfos.filter(function(e){e.category="carInfos"}),this.houseInfos.map(function(e){e.category="houseInfos"}),this.guaranteeInfoOthers.map(function(e){e.category="guaranteeInfoOthers"}),0===this.carInfos.length?void this.$toast("请上传车辆信息"):0===this.houseInfos.length?void this.$toast("请上传房产信息"):(this.guaranteeForm.resourceList=[].concat(o()(this.carInfos),o()(this.houseInfos),o()(this.guaranteeInfoOthers)),this.guaranteeForm.resourceList.map(function(t){t.ownerId=e.companyId,t.ownerType="COMPANY",t.resourceName=t.attachmentName,t.resourceUrl=t.attachmentPath,t.resourceType=t.fileType,delete t.attachmentName,delete t.attachmentPath,delete t.attachmentUrl,delete t.group,delete t.fileType}),console.log("this.guaranteeForm",this.guaranteeForm),r.i(a.c)(this.guaranteeForm).then(function(t){200===t.code&&(e.$router.go(-1),e.$toast("信息提交成功"))}),void 0)},getResourceList:function(){var e=this;r.i(a.d)(this.paramster).then(function(t){if(200===t.code){console.log("res.result",t.result);var r=t.result;r.map(function(e){e.attachmentName=e.resourceName,e.attachmentPath=e.resourceUrl}),r.forEach(function(t){switch(t.category){case"carInfos":e.carInfos.push(t);break;case"houseInfos":e.houseInfos.push(t);break;case"guaranteeInfoOthers":e.guaranteeInfoOthers.push(t)}})}})}},created:function(){this.getResourceList()}}},400:function(e,t,r){t=e.exports=r(267)(),t.push([e.i,"",""])},455:function(e,t,r){var n=r(400);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(268)("e1d8018e",n,!0)},529:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-with-header main-with-bottom common-bg"},[r("common-header",[r("div",{staticClass:"save",attrs:{slot:"save"},on:{click:e.submit},slot:"save"},[e._v("保存")])]),e._v(" "),r("div"),e._v(" "),r("img-upload",{attrs:{title:"车辆信息",imageList:e.carInfos,deleteIds:e.guaranteeForm.deleteIds},on:{"update:imageList":function(t){e.carInfos=t},"update:image-list":function(t){e.carInfos=t},"update:deleteIds":function(t){return e.$set(e.guaranteeForm,"deleteIds",t)},"update:delete-ids":function(t){return e.$set(e.guaranteeForm,"deleteIds",t)}}}),e._v(" "),r("img-upload",{attrs:{title:"房产信息",imageList:e.houseInfos,deleteIds:e.guaranteeForm.deleteIds},on:{"update:imageList":function(t){e.houseInfos=t},"update:image-list":function(t){e.houseInfos=t},"update:deleteIds":function(t){return e.$set(e.guaranteeForm,"deleteIds",t)},"update:delete-ids":function(t){return e.$set(e.guaranteeForm,"deleteIds",t)}}}),e._v(" "),r("img-upload",{attrs:{title:"其他",imageList:e.guaranteeInfoOthers,deleteIds:e.guaranteeForm.deleteIds},on:{"update:imageList":function(t){e.guaranteeInfoOthers=t},"update:image-list":function(t){e.guaranteeInfoOthers=t},"update:deleteIds":function(t){return e.$set(e.guaranteeForm,"deleteIds",t)},"update:delete-ids":function(t){return e.$set(e.guaranteeForm,"deleteIds",t)}}})],1)},staticRenderFns:[]}}});